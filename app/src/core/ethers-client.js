const a3_0x2a7d22=a3_0x39a2;(function(_0x464f1b,_0x361557){const _0x3e3610=a3_0x39a2,_0x20fd0e=_0x464f1b();while(!![]){try{const _0xa77688=parseInt(_0x3e3610(0x1d9,'aGRe'))/0x1+-parseInt(_0x3e3610(0x1d5,'Wn]#'))/0x2*(-parseInt(_0x3e3610(0x1d0,'0KnL'))/0x3)+-parseInt(_0x3e3610(0x1e2,'LZ9j'))/0x4*(parseInt(_0x3e3610(0x1d1,'IRM['))/0x5)+-parseInt(_0x3e3610(0x1dc,'6oMJ'))/0x6+-parseInt(_0x3e3610(0x1c7,'fxa6'))/0x7+-parseInt(_0x3e3610(0x1bd,'zFII'))/0x8*(parseInt(_0x3e3610(0x1b5,'nG#P'))/0x9)+-parseInt(_0x3e3610(0x1ee,'*WAR'))/0xa*(-parseInt(_0x3e3610(0x1da,'9EfU'))/0xb);if(_0xa77688===_0x361557)break;else _0x20fd0e['push'](_0x20fd0e['shift']());}catch(_0x1dcd46){_0x20fd0e['push'](_0x20fd0e['shift']());}}}(a3_0x5ea7,0x31f11));const a3_0x47d076=(function(){let _0x1b60b8=!![];return function(_0x72ee7,_0x20390a){const _0x1cf831=a3_0x39a2;if(_0x1cf831(0x1ca,'Y0g&')==='mGpzf'){const _0x529ac6=_0x1b60b8?function(){const _0xceaff7=_0x1cf831;if(_0xceaff7(0x1b3,'FcQ(')===_0xceaff7(0x1d8,'6oMJ'))throw _0x5b288e;else{if(_0x20390a){const _0x2974b3=_0x20390a['apply'](_0x72ee7,arguments);return _0x20390a=null,_0x2974b3;}}}:function(){};return _0x1b60b8=![],_0x529ac6;}else return _0x463a60[_0x1cf831(0x1be,'wY2F')]()['search'](_0x1cf831(0x1c1,'wY2F'))[_0x1cf831(0x1cc,'FcQ(')]()['constructor'](_0x38fb62)['search']('(((.+)+)+)+$');};}()),a3_0x4b3ffd=a3_0x47d076(this,function(){const _0x10a7ac=a3_0x39a2,_0x32e652={'KMZUZ':_0x10a7ac(0x1e0,'3oFb')};return a3_0x4b3ffd['toString']()['search']('(((.+)+)+)+$')['toString']()['constructor'](a3_0x4b3ffd)['search'](_0x32e652['KMZUZ']);});a3_0x4b3ffd();function a3_0x39a2(_0x52b881,_0x166bea){const _0x5022ef=a3_0x5ea7();return a3_0x39a2=function(_0x4b3ffd,_0x47d076){_0x4b3ffd=_0x4b3ffd-0x1b2;let _0x5ea766=_0x5022ef[_0x4b3ffd];if(a3_0x39a2['hZpNXA']===undefined){var _0x39a27b=function(_0x4bf422){const _0x309bf5='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x2d238d='',_0x534b8c='',_0x3a231c=_0x2d238d+_0x39a27b;for(let _0x10eb9d=0x0,_0x301dfe,_0x2f8a79,_0x3579a4=0x0;_0x2f8a79=_0x4bf422['charAt'](_0x3579a4++);~_0x2f8a79&&(_0x301dfe=_0x10eb9d%0x4?_0x301dfe*0x40+_0x2f8a79:_0x2f8a79,_0x10eb9d++%0x4)?_0x2d238d+=_0x3a231c['charCodeAt'](_0x3579a4+0xa)-0xa!==0x0?String['fromCharCode'](0xff&_0x301dfe>>(-0x2*_0x10eb9d&0x6)):_0x10eb9d:0x0){_0x2f8a79=_0x309bf5['indexOf'](_0x2f8a79);}for(let _0x9eb521=0x0,_0x18fa36=_0x2d238d['length'];_0x9eb521<_0x18fa36;_0x9eb521++){_0x534b8c+='%'+('00'+_0x2d238d['charCodeAt'](_0x9eb521)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x534b8c);};const _0x271ef2=function(_0x29ecf1,_0x354cac){let _0x8c9b1e=[],_0x527de6=0x0,_0x23eca5,_0x44623f='';_0x29ecf1=_0x39a27b(_0x29ecf1);let _0x4739dd;for(_0x4739dd=0x0;_0x4739dd<0x100;_0x4739dd++){_0x8c9b1e[_0x4739dd]=_0x4739dd;}for(_0x4739dd=0x0;_0x4739dd<0x100;_0x4739dd++){_0x527de6=(_0x527de6+_0x8c9b1e[_0x4739dd]+_0x354cac['charCodeAt'](_0x4739dd%_0x354cac['length']))%0x100,_0x23eca5=_0x8c9b1e[_0x4739dd],_0x8c9b1e[_0x4739dd]=_0x8c9b1e[_0x527de6],_0x8c9b1e[_0x527de6]=_0x23eca5;}_0x4739dd=0x0,_0x527de6=0x0;for(let _0x1a3b19=0x0;_0x1a3b19<_0x29ecf1['length'];_0x1a3b19++){_0x4739dd=(_0x4739dd+0x1)%0x100,_0x527de6=(_0x527de6+_0x8c9b1e[_0x4739dd])%0x100,_0x23eca5=_0x8c9b1e[_0x4739dd],_0x8c9b1e[_0x4739dd]=_0x8c9b1e[_0x527de6],_0x8c9b1e[_0x527de6]=_0x23eca5,_0x44623f+=String['fromCharCode'](_0x29ecf1['charCodeAt'](_0x1a3b19)^_0x8c9b1e[(_0x8c9b1e[_0x4739dd]+_0x8c9b1e[_0x527de6])%0x100]);}return _0x44623f;};a3_0x39a2['ohtaUU']=_0x271ef2,_0x52b881=arguments,a3_0x39a2['hZpNXA']=!![];}const _0x172871=_0x5022ef[0x0],_0x468263=_0x4b3ffd+_0x172871,_0x25eb35=_0x52b881[_0x468263];if(!_0x25eb35){if(a3_0x39a2['lpvlmz']===undefined){const _0x298401=function(_0xb30075){this['eHMyfu']=_0xb30075,this['lXoBlI']=[0x1,0x0,0x0],this['djvypN']=function(){return'newState';},this['HnVPwu']='\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*',this['RLaEQP']='[\x27|\x22].+[\x27|\x22];?\x20*}';};_0x298401['prototype']['ErxqKc']=function(){const _0x2e696f=new RegExp(this['HnVPwu']+this['RLaEQP']),_0x6c253c=_0x2e696f['test'](this['djvypN']['toString']())?--this['lXoBlI'][0x1]:--this['lXoBlI'][0x0];return this['VUgSmW'](_0x6c253c);},_0x298401['prototype']['VUgSmW']=function(_0x1874ac){if(!Boolean(~_0x1874ac))return _0x1874ac;return this['gAGsoD'](this['eHMyfu']);},_0x298401['prototype']['gAGsoD']=function(_0x2bdce9){for(let _0x2352ba=0x0,_0x5e4d79=this['lXoBlI']['length'];_0x2352ba<_0x5e4d79;_0x2352ba++){this['lXoBlI']['push'](Math['round'](Math['random']())),_0x5e4d79=this['lXoBlI']['length'];}return _0x2bdce9(this['lXoBlI'][0x0]);},new _0x298401(a3_0x39a2)['ErxqKc'](),a3_0x39a2['lpvlmz']=!![];}_0x5ea766=a3_0x39a2['ohtaUU'](_0x5ea766,_0x47d076),_0x52b881[_0x468263]=_0x5ea766;}else _0x5ea766=_0x25eb35;return _0x5ea766;},a3_0x39a2(_0x52b881,_0x166bea);}import{privateKey}from'../../accounts/accounts.js';function a3_0x5ea7(){const _0x1b3d40=['BCktW6zx','W5NcPmojDL4Yku0pjZ4uqa','WRZdQ8oAbHDVEgiJkc1hjW','wL3dOSotWPf/vG','emoODae','WOJdSCoGWRSbtbfYWQJcPmoCca','bMHoaZG','WPVdQSkrWPhcTSoiehBdPCo3W5S7','fmkkx2tdGaPE','W6ZcH8kr','ESoLWQ7dKSkS','WOZdNg3dHx7cOq','WRGTl8oE','WQGdrdeIpa','hw/cNhqh','hmo2W4FdKCo+q8oB','W6mVW5b5','W5ZdM05ZWRxcTM0','WP4AdCo3W5/cNmkoWOu','W7bBrKaFCCo/nSox','WO0eWRhdGCkp','AdpdG1RcTSomW5xcVd4','WRddMMNdUve','tZvmWR/cOmkaWOXZW5bbgYNcISkUwG','c2nedq','WPxdQCo8','W7ngWQJcVCkb','oSo3W5FdL8oYxSopWPxdGmkyaK4YW67dUSoAW5P0W4P8W6lcTq/dIuqM','WOnPW5VdUCo3WRiB','q8kkW7vFzCo7ySkkjL3dR8kQWO1WuN11W7HOWRv8W4hdTr3cQCoKW6GOWRNdO8o5uSoQWRJcOLBdPwddP8oTW7NcLCkWgW','ahddTSo/WPnMrfnLdujbWPS','kSk7W6S','cCoGW4RdJG','cGeoBmknmSonha','qH5FWP7dOsxdVmkg','pCo3W5ijW4FdUCkf','qSkWnLr7mKFdHmkqFSkyFmot','DSo3n8oAiImaBa','h8oQW4qSiSk8ogD6a8oCW6JdVCktW6TMCCkSW51uW7dcR8kLECosl8k7Efi','ESo2WR0','kSkWtmkaE2nfiMlcLmoEAW','Bc7dN8oCW5m','W4zQiWldIeRcTSoVgSkXWQuyWRxcRSo9','WP/dSSktnW','W6eJW4e','m8kVvmoHbGCMuZK','WRuYD1hcKbhdPmkDh8kRWRu9WPC','A8ogWRW','rq1CWOtdRtu','mCkHcIT1','kSo2WOaDkmkHlq','W6zOWPlcUmkDW5vkrq','W5dcRSklWQ16cY9tWOr6ASofDCo9WPi','iCk2g1ldPc1SWOC','W7xcMSonqCkKW4yE','m8kMW7L8BSoOya','ACoqW4yEW5BdRCk0','W7rUiqFdJ0FcTa','a8oMDbCUuH/dImkbrq','vGLCWONdSq','sejvl8oqymo/a8kRW4qGW54','W7TYqSkkW61xW75xqvhcVCoPWQvCyG','ESkwW6Xiymo2y8oy','WRRdTmksdcS','zcDGjMtcQCkZWQn1WP56WPu','WO7cJriWW6NdS0y1W4NdOSkcfa'];a3_0x5ea7=function(){return _0x1b3d40;};return a3_0x5ea7();}import{Helper}from'../utils/helper.js';import a3_0x39f3ef from'../utils/logger.js';import{ethers}from'ethers';import{RPC}from'./network/rpc.js';import a3_0x294479 from'./core.js';export default class EthersClient{constructor(_0x42c8c9,_0x51f9db){const _0x429bb7=a3_0x39a2;this[_0x429bb7(0x1df,'zFII')]=_0x51f9db,this['acc']=_0x42c8c9,this['provider']=new ethers['JsonRpcProvider'](RPC['RPCURL'],RPC['CHAINID']);}async[a3_0x2a7d22(0x1b7,'@@A]')](){const _0x39134b=a3_0x2a7d22,_0x5ca126={'rxuMV':'Private\x20Key','TLril':function(_0x837404,_0x2c7bfc){return _0x837404(_0x2c7bfc);},'FimWf':function(_0x11e153,_0x4244d3){return _0x11e153!==_0x4244d3;},'UduaS':'afBOv'};try{const _0x2ac097=this['acc'],_0xc18e23=privateKey['indexOf'](this[_0x39134b(0x1c5,'XVEa')]);await Helper[_0x39134b(0x1e1,'E7v7')](Helper[_0x39134b(0x1f2,'n$1K')],this['acc'],'Connecting\x20to\x20Account\x20:\x20'+(_0xc18e23+0x1),this['core']);const _0x3ccf53=Helper['determineType'](_0x2ac097);a3_0x39f3ef['info']('Account\x20Type\x20:\x20'+_0x3ccf53);if(_0x3ccf53=='Secret\x20Phrase')this['wallet']=new ethers['Wallet']['fromPhrase'](_0x2ac097,this['provider']);else{if(_0x3ccf53==_0x5ca126['rxuMV'])this['wallet']=new ethers['Wallet'](_0x2ac097[_0x39134b(0x1b9,'j%Kh')](),this['provider']);else throw _0x5ca126['TLril'](Error,'Invalid\x20account\x20Secret\x20Phrase\x20or\x20Private\x20Key');}this[_0x39134b(0x1ea,'j%Kh')]=this['wallet']['address'],await Helper[_0x39134b(0x1d4,'6NJ^')](Helper[_0x39134b(0x1d6,'([3o')],this[_0x39134b(0x1c0,'P(%w')],'Wallet\x20connected\x20'+JSON[_0x39134b(0x1f0,'RlFX')](this[_0x39134b(0x1e6,'SIjy')][_0x39134b(0x1e3,'08o1')]),this['core']);}catch(_0x11535f){if(_0x5ca126[_0x39134b(0x1c2,'iNeG')]('afBOv',_0x5ca126['UduaS']))throw _0x40d56a(_0x39134b(0x1b6,'0KnL'));else throw _0x11535f;}}async['getBalance'](_0x3d406d=![]){const _0x4ca60b=a3_0x2a7d22,_0x168e4e={'CoRNY':'KghPJ'};try{if(!_0x3d406d){if(_0x168e4e['CoRNY']===_0x4ca60b(0x1f1,'SIjy'))await Helper['delay'](0x1f4,this['acc'],_0x4ca60b(0x1b4,'j%Kh')+this['wallet']['address'],this['core']);else{const _0x46bac2=_0x5b169e['apply'](_0x3d6808,arguments);return _0x4c541a=null,_0x46bac2;}}const _0x3c85e7=ethers['formatEther'](await this[_0x4ca60b(0x1ba,'Wn]#')]['getBalance'](this['wallet']['address']));this['balance']={'ETH':_0x3c85e7},await Helper['delay'](0x1f4,this['acc'],_0x4ca60b(0x1c3,'fxa6'),this['core']);}catch(_0x4cbe33){throw _0x4cbe33;}}async['executeTx'](_0x1e555b){const _0x80f25c=a3_0x2a7d22,_0x474c83={'pDKjD':_0x80f25c(0x1b2,'3oFb')};try{a3_0x39f3ef[_0x80f25c(0x1f3,'E7v7')](_0x80f25c(0x1ce,'08o1')+JSON['stringify'](Helper['serializeBigInt'](_0x1e555b))),await Helper['delay'](0x1f4,this['acc'],'Executing\x20TX...',this['core']);const _0x453885=await this[_0x80f25c(0x1c9,'6NJ^')]['sendTransaction'](_0x1e555b);a3_0x39f3ef['info'](_0x80f25c(0x1dd,'6oMJ')+RPC['EXPLORER']+'tx/'+_0x453885['hash']),await Helper['delay'](0x1f4,this['acc'],'Tx\x20Executed\x20Waiting\x20For\x20Block\x20Confirmation...',this[_0x80f25c(0x1eb,'XVEa')]);const _0x2bf160=await _0x453885[_0x80f25c(0x1c4,'6oMJ')]();a3_0x39f3ef['info'](_0x80f25c(0x1bf,'g%e0')+JSON['stringify'](_0x2bf160)),await Helper[_0x80f25c(0x1e9,'#4EK')](0x1388,this['acc'],'Tx\x20Executed\x20and\x20Confirmed\x20\x0a'+RPC[_0x80f25c(0x1ed,'i^ee')]+_0x80f25c(0x1e4,'(rJA')+_0x2bf160['hash'],this['core']),await this['getBalance'](!![]);}catch(_0x3febce){if(_0x3febce['message']['includes'](_0x474c83['pDKjD'])){if('BPlve'==='BPlve')await Helper['delay'](0x1388,this['acc'],_0x3febce[_0x80f25c(0x1cf,'(rJA')],this[_0x80f25c(0x1e7,'i^ee')]);else{if(_0x353a57){const _0x6df00e=_0x792f21[_0x80f25c(0x1e5,'P(%w')](_0x5ad8d6,arguments);return _0x399525=null,_0x6df00e;}}}else throw _0x3febce;}}async[a3_0x2a7d22(0x1cd,'0WJo')](){const _0x499ff4=a3_0x2a7d22;try{const _0x3a1741=await this['provider']['getTransactionCount'](this['wallet'][_0x499ff4(0x1cb,'g%e0')],'latest'),_0x1fa50c=await this[_0x499ff4(0x1d7,'0KnL')]['getTransactionCount'](this['wallet'][_0x499ff4(0x1bc,'IRM[')],_0x499ff4(0x1d2,'fxa6')),_0x9a0b0b=_0x1fa50c>_0x3a1741?_0x1fa50c:_0x3a1741;return _0x9a0b0b;}catch(_0x7820db){throw _0x7820db;}}async['estimateGasWithRetry'](_0x3b87d5,_0x18a046,_0x810c5,_0x510073=![],_0x234409=0x3,_0xec7c5b=0xbb8){const _0x4ee4a5=a3_0x2a7d22,_0x36dd14={'kkrBP':function(_0x1e9d55,_0x34fa6f){return _0x1e9d55<_0x34fa6f;},'qwYzI':function(_0x5d3452,_0x4b12c0){return _0x5d3452===_0x4b12c0;},'zryuQ':function(_0x1f5e1f,_0x20b90b){return _0x1f5e1f+_0x20b90b;},'ISGTT':function(_0x45bfca,_0x1b47ff){return _0x45bfca(_0x1b47ff);}};for(let _0x5ea3d0=0x0;_0x36dd14['kkrBP'](_0x5ea3d0,_0x234409);_0x5ea3d0++){try{a3_0x39f3ef['info']('Estimating\x20Gas\x20for\x20'+_0x810c5+_0x4ee4a5(0x1c8,'g%e0'));const _0x3e8d00=await this[_0x4ee4a5(0x1bb,'6NJ^')]['estimateGas']({'from':this['wallet'][_0x4ee4a5(0x1ec,'9EfU')],'to':_0x3b87d5,'value':_0x18a046,'data':_0x810c5});return _0x3e8d00;}catch(_0x234880){if(_0x36dd14['qwYzI']('PfNSA','etZXW'))throw _0x3dac11('Failed\x20to\x20estimate\x20gas\x20after\x20'+_0x3e387d+'\x20attempts.');else{if(_0x510073)throw _0x234880;else{await Helper[_0x4ee4a5(0x1ef,'2nq!')](_0xec7c5b,this['acc'],_0x234880[_0x4ee4a5(0x1e8,'XyPk')]+'...\x20Attempt\x20'+_0x36dd14['zryuQ'](_0x5ea3d0,0x1)+'\x20of\x20'+_0x234409,this['core']);if(_0x5ea3d0===_0x234409-0x1)throw _0x36dd14['ISGTT'](Error,'Failed\x20to\x20estimate\x20gas\x20after\x20'+_0x234409+'\x20attempts.');}}}}}async['buildTxBody'](_0x241682,_0x3f35e4=![],_0x3865b6=0x0){const _0xc76de0=a3_0x2a7d22,_0x4a9a4f=await this['getOptimalNonce'](),_0xfa6aae=await this['estimateGasWithRetry'](_0x241682['to'],_0x3865b6,_0x241682['data'],_0x3f35e4),_0x7a54d6={'to':_0x241682['to'],'from':this['address'],'value':_0x3865b6,'gasLimit':_0xfa6aae,'gasPrice':ethers[_0xc76de0(0x1d3,'zFII')](_0xc76de0(0x1b8,'P(%w'),_0xc76de0(0x1db,'0KnL')),'nonce':_0x4a9a4f,'data':_0x241682['data']};return _0x7a54d6;}}